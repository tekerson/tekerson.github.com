
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Deprecated Behaviour</title>
  <meta name="author" content="Brenton Alker">

  
  <meta name="description" content="As you may be aware I am a relatively recent convert to Ubuntu. As such I am still tweaking my desktop to my liking (Who am I kidding, I don&#8217;t &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.tekerson.com/page/15">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/feed/index.atom" rel="alternate" title="Deprecated Behaviour" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Share+Tech+Mono' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2296226-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Deprecated Behaviour</a></h1>
  
    <h2>The inane, sometimes insane, ramblings from the mind of Brenton Alker.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/feed/index.atom" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/24/auto-start-esd-esound-in-xfce/">Auto-start ESD/ESound in XFCE</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-24T01:20:25+10:00" pubdate data-updated="true">Dec 24<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As you may be aware I am a relatively recent convert to Ubuntu. As such I am still tweaking my desktop to my liking (Who am I kidding, I don&#8217;t think I&#8217;ll ever finish tweaking it).</p>

<p>I was previously running Gnome (Ubuntu&#8217;s default) Desktop, except with XFWM as by Window Manager, as I have never liked Metacity (Gnome&#8217;s default WM). Today, I changed my default session (from the &#8220;Options&#8221; menu in the GDM &#8211; the graphical login screen) to <a href="http://www.xfce.org/">XFCE</a>, as many of the Gnome features I don&#8217;t use anyway, and I have always liked XFCE, it was on my desktop in my <a href="http://gentoo.org">Gentoo</a> day&#8217;s (that or <a href="http://icculus.org/openbox/">Openbox</a>).</p>

<p>Everything seemed to work fine. There were a few things I needed to configure because they were handled by Gnome application previously, but on the whole most things were very similar. The first issue I noticed was I had no sound (There is almost always music playing on my machine, as it should be). After some investigation, I discovered that ESD hadn&#8217;t started:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ps x | grep esd
</span><span class='line'>5981 pts/1    S+     0:00 grep esd</span></code></pre></td></tr></table></div></figure>


<p>A quick search led me to a <a href="http://ubuntuforums.org/showthread.php?p=375042">post</a> on the Ubuntu Forums which wasn&#8217;t directly very helpful, but it indicated that, at least I wasn&#8217;t the only one. And it also inspired my solution.</p>

<p>I wrote a quick script to start ESD, but only if it isn&#8217;t already running (thanks to the problem encountered in the aforementioned post)</p>

<p>~/bin/startesd</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#!/bin/sh
</span><span class='line'>APP="/usr/bin/esd"
</span><span class='line'>ARGS="-nobeeps"
</span><span class='line'>if [ `pidof $APP` ]; then
</span><span class='line'>    #Do Nothing - already running
</span><span class='line'>    return
</span><span class='line'>else
</span><span class='line'>    $APP $ARGS&
</span><span class='line'>fi;</span></code></pre></td></tr></table></div></figure>


<p>Then, by adding an entry to run that script into XFCE&#8217;s (new to me, but apparently not so new) <a href="http://xfce-diary.blogspot.com/2005/07/autostart-editor.html">&#8220;autostart-editor&#8221;</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ xfce4-autostart-editor</span></code></pre></td></tr></table></div></figure>


<p>or &#8220;Autostarted Applications&#8221; in the settings menu.</p>

<p>I had sound, without having to manually start ESD each time.</p>

<p>The only other configuration I need to get round to doing it configuring my multimedia keys… but that can wait &#8216;till some other time.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/22/openvpn-the-super-ssh-tunnel/">OpenVPN, the Super SSH Tunnel</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-22T04:30:16+10:00" pubdate data-updated="true">Dec 22<span>nd</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have long marvelled at the ability of ssh to tunnel connections, and regularly use this feature to give myself access to services behind firewalls, in offices, far far away… As such, In spite of the seeming ubiquity of the concept, I have never seen the benifit of a VPN. But recently, after discovering <a href="http://openvpn.net/">OpenVPN</a> set up on one of the servers at work (One for which I&#8217;m not the primary admin).</p>

<p>I looked through the configuration and it looked significantly simpler than I had anticipated. So I took it upon myself to join my home network with that of the one in the office (Why?… Why not?)</p>

<p>It was fairly simple, after reading through and following the tips in the official <a href="http://openvpn.net/howto.html">How-To</a> I had a basic VPN connection with a shared key for encryption.</p>

<p>On my local box, the configuration looked like:</p>

<p>/etc/openvpn/tunnel.conf</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>dev tun
</span><span class='line'>remote my.office.domain
</span><span class='line'>float
</span><span class='line'>ifconfig 10.0.0.2 10.0.0.1
</span><span class='line'>secret .keys/office.key
</span><span class='line'>verb 3
</span><span class='line'>ping 30
</span><span class='line'>route 192.168.0.0 255.255.255.0</span></code></pre></td></tr></table></div></figure>


<p>And on the box in the back room at work:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>dev tun
</span><span class='line'>remote everyone-here.is-a-geek.com
</span><span class='line'>float
</span><span class='line'>ifconfig 10.0.0.1 10.0.0.2
</span><span class='line'>secret .keys/brenton.key
</span><span class='line'>verb 3
</span><span class='line'>ping 30</span></code></pre></td></tr></table></div></figure>


<p>Note: Both are class C networks, My home IP range is 192.168.1.xxx and the one at work is 192.168.0.xxx This makes life easier, because the networks don&#8217;t overlap, otherwise I believe some form of NAT would be required. Once the Tunnels are set up and both services are started</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/init.d/openvpn start</span></code></pre></td></tr></table></div></figure>


<p>the machines should be able to ping each other across the VPN</p>

<p>From work:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ping 10.0.0.2
</span><span class='line'>PING 10.0.0.2 (10.0.0.2) 56(84) bytes of data.
</span><span class='line'>64 bytes from 10.0.0.2: icmp_seq=1 ttl=64 time=45.0 ms
</span><span class='line'>64 bytes from 10.0.0.2: icmp_seq=2 ttl=64 time=28.4 ms
</span><span class='line'>…</span></code></pre></td></tr></table></div></figure>


<p>This configuration even adds and tears down the routing rule (only set up on my local machine at the moment) that forward traffic to the &#8220;other&#8221; network through the tunnel (The &#8220;route&#8221; line in my configuration). Unfortunately, because these machines are not the default gateways for their networks, some configuration on the gateway may be required to get them to forward everyone&#8217;s traffic (not just that originating from the connected systems) through the tunnel. I&#8217;ll post it when I figure it out. OR if anyone knows, please comment!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/12/yahoo-yui-subscribe-to-drag-drop-events/">Yahoo YUI Subscribe to Drag Drop Events</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-12T09:13:21+10:00" pubdate data-updated="true">Dec 12<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been playing with the <a href="http://developer.yahoo.com/yui/">Yahoo! UI</a> (YUI) Javascript Library recently, it contains all the useful utilities you would expect from a JavaScript library, as well as some more gratuitous features.</p>

<p>While I can&#8217;t honestly say I have spent the time to compare Yahoo&#8217;s efforts to those of others, such as <a href="http://prototype.conio.net/">prototype</a> or <a href="http://script.aculo.us/">script.aculo.us</a>, I have taken a liking to the way the Yahoo library feelsâ€¦ even if it&#8217;s just their coding style just feels a little funky.</p>

<p>One of the staple favourites of the library, is the Drag-Drop collection. The boss (and the client) always likes it when they can drag things around their web applications, especially when it&#8217;s not just pointless eye candy. After playing with the scripts for a while, I got the feeling that something was missing. It turned out to be the ability to subscribe to drag drop events. The general way Yahoo deals with the &#8220;event&#8221; handlers for the dragged or dropped items is by overriding functions that are called. This works quiet well for most things, but seeing as another important part of the library is event handling, including custom events, it seems a shame to let it go to waste and not allow events to be fired and subscribed to by the Drag-Drop classes.</p>

<p>With that in mind, and borrowing some concepts from <a href="http://www.thinkvitamin.com/features/javascript/15-things-you-can-do-with-yahoo-ui">an inspiring article</a> I wrote a simple extension to the YAHOO.util.DD class that creates custom events that can be subscribed to by any number of listeners.</p>

<p>There were some issues with the apparent inconsistency of the arguments being passed between functions, but I normalised it as best I could and can up with this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/**
</span><span class='line'>* @extends YAHOO.util.DD
</span><span class='line'>* @constructor
</span><span class='line'>* @param {String} ElId the id of the element that will cause the resize
</span><span class='line'>* @param {String} sGroup the group of related DragDrop items
</span><span class='line'>* @param {Array} config the arbitrary configuration array
</span><span class='line'>*/
</span><span class='line'>YAHOO.Gnosis.DD = function(ElId, sGroup, config)
</span><span class='line'>{
</span><span class='line'>if (ElId)
</span><span class='line'>{
</span><span class='line'>this.init(ElId, sGroup, config);
</span><span class='line'>}
</span><span class='line'>}
</span><span class='line'>YAHOO.extend(YAHOO.Gnosis.DD, YAHOO.util.DD,
</span><span class='line'>{
</span><span class='line'>onStart: new YAHOO.util.CustomEvent('onStart event'),
</span><span class='line'>startDrag: function(x,y,z)
</span><span class='line'>{
</span><span class='line'>this.onStart.fire(x,y);
</span><span class='line'>},
</span><span class='line'>onComplete: new YAHOO.util.CustomEvent('onComplete event'),
</span><span class='line'>endDrag: function(event)
</span><span class='line'>{
</span><span class='line'>this.onComplete.fire(event.clientX, event.clientY, event.target);
</span><span class='line'>},
</span><span class='line'>duringDrag: new YAHOO.util.CustomEvent('duringDrag event'),
</span><span class='line'>onDrag: function(event)
</span><span class='line'>{
</span><span class='line'>this.duringDrag.fire(event.clientX, event.clientY, event.target);
</span><span class='line'>}
</span><span class='line'>});</span></code></pre></td></tr></table></div></figure>


<p>(Gnosis is the framework, a collection of <a href="http://php.net">PHP</a> and Javascript I am putting together as a basis for my development projects.)</p>

<p>It seems so obvious now. I&#8217;ve put together a <a href="http://example.blog.everyone-here.is-a-geek.com/yui-dragdrop-subscribe/">basic example</a> to show how this can be used.</p>

<p>This is only a start, there are plenty of other events that are worth overriding in this manner, for example the onDragEnter, onDragOut, onDragDrop, onDragOver, onMouseUp and onMouseDown functions (and a few more). That&#8217;s another thing I like about the YUI, it&#8217;s designed to be extended.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/16/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/14/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/03/24/reboot/">Reboot</a>
      </li>
    
      <li class="post">
        <a href="/2010/02/18/the-silver-lining-of-the-readwriteweb-facebook-login-debacle/">The Silver Lining of the ReadWriteWeb/Facebook Login Debacle</a>
      </li>
    
      <li class="post">
        <a href="/2009/09/08/bootstrapping-the-doctrine2-autoloader-in-zend-framework/">Bootstrapping the Doctrine 2.0 Autoloader in Zend Framework</a>
      </li>
    
      <li class="post">
        <a href="/2009/07/06/dependency-injection-container-resource-in-zend-framework/">Dependency Injection Container Resource in Zend Framework</a>
      </li>
    
      <li class="post">
        <a href="/2009/06/28/building-a-modular-application-in-zend-framework-part-2/">Building a Modular Application in Zend Framework - Part 2</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $(function(){
      getTwitterFeed("tekerson", 5, true);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <p>Follow <a href="http://twitter.com/tekerson">@tekerson</a></p>
  
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Brenton Alker -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
